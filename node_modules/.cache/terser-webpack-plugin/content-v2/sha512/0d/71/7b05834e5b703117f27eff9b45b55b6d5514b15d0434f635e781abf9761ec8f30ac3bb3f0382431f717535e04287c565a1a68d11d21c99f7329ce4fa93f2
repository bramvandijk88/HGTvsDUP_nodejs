{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),function(t){n.d(e,\"cost_expr\",(function(){return o})),n.d(e,\"deletions\",(function(){return r})),n.d(e,\"duplications\",(function(){return u})),n.d(e,\"hgt\",(function(){return h})),n.d(e,\"mutate_expression\",(function(){return c})),n.d(e,\"mutate_up\",(function(){return l})),n.d(e,\"mut_step\",(function(){return a})),n.d(e,\"m\",(function(){return m}));var i=n(1),s=n(2);n(4);let o=.01,r=0,u=0,h=0,c=0,l=0,a=0;var m=new s.a(56);let f=[],p=[];for(let t=0;t<100;t++){const t=new i.a(1),e=new i.a(1);f.push(t),p.push(e)}console.log(f),console.log(m.genrand_real1());let d=0,g=!0,_=[0];function y(){for(let t=0;t<1;t++)x(p);d++}function x(t){let e=[].concat(...p.map(t=>Array(Math.ceil(100*t.fitness)).fill(t))),n=e[Math.floor(m.random()*e.length)];_.push(n.genome.length),d%100==0&&console.log(n);let s=i.a.reproduceCell(n);s.mutate();let o=Math.floor(m.random()*p.length);s.time_birth=d,p[o]=s}\"object\"!=typeof t&&document.querySelector(\"#runpause\").addEventListener(\"click\",(function(){g=!g,console.log(\"Switched running to \",g)})),\"undefined\"==typeof window?function(){for(;d<1;)g&&(console.log(\"Time: \"+d),y())}():function t(){let e=requestAnimationFrame(t);g&&(y(),d%1==0&&(console.log(\"Time: \"+d),window.updateGraph(d,_),_=[]),1===d&&(cancelAnimationFrame(e),console.log(p),console.log(\"done\")))}()}.call(this,n(3))},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return u}));let i=0;class s{constructor(t){this.id=i++,this.expression=t}static copyGene(t){const e=new s(0);return e.expression=t.expression,e}}var o=n(0);let r=0;class u{constructor(t){this.uid=r++,this.fitness=0,this.time_birth=0,this.genome=[];for(let e=0;e<t;e++){const t=new s(.01);this.genome.push(t)}this.setFitness()}static reproduceCell(t){console.log(\"Reproducing cell\",t);let e=new u(0);e.fitness=t.fitness,e.genome=[];for(let n=0;n<t.genome.length;n++){const i=s.copyGene(t.genome[n]);e.genome.push(i)}return e}mutate(){let t=!1;for(let e=0;e<this.genome.length;e++){let n=o.m.random();if(n<o.mutate_expression)t=!0,o.m.random()<o.mutate_up?this.genome[e].expression=Math.floor(1,Math.ceil(.01,this.genome[e].expression+o.m.random()*o.mut_step)):this.genome[e].expression=Math.floor(1,Math.ceil(.01,this.genome[e].expression-o.m.random()*o.mut_step));else if(n<o.mutate_expression+o.duplications){t=!0;const n=s.copyGene(this.genome[e]);this.genome.push(n)}else if(n<o.mutate_expression+o.duplications+o.deletions){t=!0;let e=Math.ceil(o.m.random()*this.genome.length);this.genome.splice(e)}}return t}setFitness(){console.log(\"Calculating fitness for cell: \",this),console.log(\"Genome? \",this.genome),console.log(\"It has this many genes: \",this.genome.length),this.sumexpression=0,this.fitness=0;for(let t of this.genome)this.sumexpression+=t.expression;this.fitness=this.sumexpression>1?1:this.sumexpression,console.log(\"Adding \",this.sumexpression>1?1:this.sumexpression),this.fitness-=o.cost_expr*this.sumexpression,console.log(\"Removing \",o.cost_expr*this.sumexpression),console.log(\"Final fitness: \",this.fitness)}setExpressionLevels(){console.log(\"setExpressionLevels() called\")}}},function(t,e,n){\"use strict\";function i(t){null==t&&(t=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(t)}n.d(e,\"a\",(function(){return i})),i.prototype.init_genrand=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++){t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0}},i.prototype.init_by_array=function(t,e){var n,i,s;for(this.init_genrand(19650218),n=1,i=0,s=this.N>e?this.N:e;s;s--){var o=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1664525*((4294901760&o)>>>16)<<16)+1664525*(65535&o))+t[i]+i,this.mt[n]>>>=0,i++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),i>=e&&(i=0)}for(s=this.N-1;s;s--){o=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1566083941*((4294901760&o)>>>16)<<16)+1566083941*(65535&o))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1)}this.mt[0]=2147483648},i.prototype.genrand_int32=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_genrand(5489),n=0;n<this.N-this.M;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^t>>>1^e[1&t];for(;n<this.N-1;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},i.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},i.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},i.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},i.prototype.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},i.prototype.genrand_res53=function(){return(67108864*(this.genrand_int32()>>>5)+(this.genrand_int32()>>>6))*(1/9007199254740992)}},function(t,e){var n,i,s=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i=\"function\"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var h,c=[],l=!1,a=-1;function m(){l&&h&&(l=!1,h.length?c=h.concat(c):a=-1,c.length&&f())}function f(){if(!l){var t=u(m);l=!0;for(var e=c.length;e;){for(h=c,c=[];++a<e;)h&&h[a].run();a=-1,e=c.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||u(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title=\"browser\",s.browser=!0,s.env={},s.argv=[],s.version=\"\",s.versions={},s.on=d,s.addListener=d,s.once=d,s.off=d,s.removeListener=d,s.removeAllListeners=d,s.emit=d,s.prependListener=d,s.prependOnceListener=d,s.listeners=function(t){return[]},s.binding=function(t){throw new Error(\"process.binding is not supported\")},s.cwd=function(){return\"/\"},s.chdir=function(t){throw new Error(\"process.chdir is not supported\")},s.umask=function(){return 0}},function(t,e,n){\"use strict\"}]);","extractedComments":[]}